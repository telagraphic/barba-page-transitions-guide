<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Hooks</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" />
  <link rel="stylesheet" href="css/styles.css">


  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js"></script>

  <link rel="preload" href="fonts/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/Inter-Medium.woff2" as="font" type="font/woff2" crossorigin>

  <link rel="preload" href="fonts/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/JetBrainsMono-Medium.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/JetBrainsMono-Bold.woff2" as="font" type="font/woff2" crossorigin>

  <style>
    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Regular.woff2') format('woff2'), url('fonts/Inter-Regular.woff') format('woff');
      font-display: swap;
      font-weight: 500;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Medium.woff2') format('woff2'), url('fonts/Inter-Medium.woff') format('woff');
      font-display: swap;
      font-weight: 600;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Bold.woff2') format('woff2'), url('fonts/Inter-Bold.woff') format('woff');
      font-display: swap;
      font-weight: 700;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-ExtraBold.woff2') format('woff2'), url('fonts/Inter-ExtraBold.woff') format('woff');
      font-display: swap;
      font-weight: 800;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Black.woff2') format('woff2'), url('fonts/Inter-Black.woff') format('woff');
      font-display: swap;
      font-weight: 900;
    }
  </style>
</head>

<body>
  <header class="header">
    <section class="github-button-section">
      <a class="github-button" href="https://github.com/telagraphic/page-transitions" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star telagraphic/page-transitions on GitHub">Star</a>
    </section>
    <nav>
      <a href="index.html">Home</a>
      <a href="hooks.html">Hooks</a>
    </nav>
  </header>


  <section data-barba="wrapper">
    <main data-barba="container" data-barba-namespace="index" data-title="Intro">
      <article class="index page">
        <section class="hooks__section">
          <h1 class="hooks__header">Hooks</h1>
        </section>

        <section class="index__section">
          <p>
            <b>Barba.js</b> uses <b>pushState</b> to change the URL programmatically while performing an
            <b>AJAX</b> request to get the next page. Barba hooks allow us to provide the animations for
            the page <b>leave</b> and <b>enter</b> making it look seamless, once we figure out how the hell it works.
            The docs from v.1 explain <a href="https://barba.js.org/v1/how-it-works.html">how the library works</a>.
            The author <b>Luigi De Rosa</b> wrote up an <a href="https://www.smashingmagazine.com/2016/07/improving-user-flow-through-page-transitions/">article about page transitions</a>
            that might be helpful to see the code stuff behind the scenes.
          </p>

          <p>
            In short, <b>Barba.js</b> turns your website into a single page app like experience. It's not just a drop-in
            library that creates cool transition effects, it's take some effort to get it working right.
          </p>
        </section>

        <section class="index__section">
          <img src="../img/lifecycle-diagram.png" alt="Barba.js Hooks Lifecycle Diagram">
        </section>

        <section class="index__section">
          <p>
            Hooks are the lifecycle events for a transition. One way to think about them is to use an analogy
            with <b>CSS Animation Keyframes</b>. You can set keyframes at varying points in time using percentages,
            then set css rules within each keyframe.
          </p>
        </section>

        <section class="index__section">
          <pre>
            <code class="language-css">
              @keyframes enter {
                0% { top: 0; left: 0; }
                30% { top: 50px; }
                68%, 72% { left: 50px; }
                100% { top: 100px; left: 100%; }
              }
            </code>
          </pre>
        </section>

        <section class="index__section">
          <p>
            A page enters and leaves upon clicking a new link, Barba uses the concepts of <b>enter</b> and <b>leave</b>
            within it's lifecycle to allow us to attach transitions at each step. Barba doesn't do the actual animation itself,
            it turns our website into a single page app like experience with the above hooks where we write our animation code.
            It gives us the keyframe positions on the left which we fill with our animation code on the right.
          </p>
        </section>

        <section class="index__section">
          <pre>
            <code class="language-css">
              @keyframes enter {
                before { gsap.to({top: 0; left: 0;}) }
                beforeEnter { gsap.to({top: 50}) }
                enter { gsap.to({left: 50})}
                afterEnter { gsap.to({left: 50}) }
                beforeLeave { gsap.to({top: 100; left: '100%'}) }
                leave { gsap.to({left: -50;}) }
                afterLeave { gsap.to({top: -100; left: '-100%'}) }
                after { gsap.to({opacity: 0}) }
              }
            </code>
          </pre>
        </section>

        <section class="index__section">
          <p>
            Yes, that is a really bad code analogy, but it might help to see how hooks work.
          </p>
          <p>
            Open your <b>Dev Tools</b> and look at the console tab when switching between the page.
            The code has all 8 hooks and you can see when each is triggered.
          </p>
        </section>
      </article>
    </main>
  </section>
  <footer class="footer">
    <footer class="footer">
      <section class="footer__section">
        <p>
          Made with the <a href="https://github.com/dracula/dracula-theme/">Dracula Theme</a>.
        </p>
        <p>
          Not responsive for mobile, use your laptop/desktop for reading this guide.
        </p>
      </section>
    </footer>
  </footer>

  <script src="js/barba.core.js"></script>
  <script src="js/barba.css.js"></script>
  <script src="js/barba.prefetch.js"></script>
  <script src="js/barba.router.js"></script>
  <script src="js/gsap.min.js"></script>
  <script src="js/app.js"></script>
</body>

</html>