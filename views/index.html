<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Barba.js Guide</title>

  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" />

  <script async defer src="https://buttons.github.io/buttons.js"></script>

  <link rel="preload" href="fonts/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/Inter-Medium.woff2" as="font" type="font/woff2" crossorigin>

  <style>
    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Regular.woff2') format('woff2'), url('fonts/Inter-Regular.woff') format('woff');
      font-display: swap;
      font-weight: 500;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Medium.woff2') format('woff2'), url('fonts/Inter-Medium.woff') format('woff');
      font-display: swap;
      font-weight: 600;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Bold.woff2') format('woff2'), url('fonts/Inter-Bold.woff') format('woff');
      font-display: swap;
      font-weight: 700;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-ExtraBold.woff2') format('woff2'), url('fonts/Inter-ExtraBold.woff') format('woff');
      font-display: swap;
      font-weight: 800;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Black.woff2') format('woff2'), url('fonts/Inter-Black.woff') format('woff');
      font-display: swap;
      font-weight: 900;
    }
  </style>
</head>

<body>
  <header class="header">
    <section class="github-button-section">
      <a class="github-button" href="https://github.com/telagraphic/page-transitions" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star telagraphic/page-transitions on GitHub">Star</a>
      <a class="docs" href="https://barba.js.org/docs/getstarted/intro/">Docs</a>
    </section>
    <nav>
      <a href="index.html">Home</a>
      <a href="guide.html">Guide</a>
      <a href="resources.html">Resources</a>
    </nav>
  </header>

  <section data-barba="wrapper">
    <main data-barba="container" data-barba-namespace="index" data-title="Intro">
      <article class="index page">
        <header>
          <h1>Interstitials</h1>
        </header>


        <section class="index__section">

          <p>
            Interstitials are those cool animated overlays that cover the page during
            the transition and sometimes might have an animation that plays before showing the next page.
            There are many variations! This page uses a simple vertical scroll up and down effect to
            illustrate how this is done with <b>Barba.js</b>
          </p>
          <h3>CSS</h3>
          <p>
            Look in the <b>scss/objects/_interstitials.scss</b> to see the styles for settin up the
            interstitial. The actual html for the interstitial is actually dynamically created and added
            to the DOM in <b>js/app.js</b>. You could also just place this in your page html as well, just a
            matter of preference.
          </p>
          <pre>
            <code class="language-css">
              .interstitial {
                position: fixed;
                top: 0;
                left: 0;

                display: flex;
                justify-content: center;
                align-items: center;

                width: 100%;
                height: 100%;

                background: $green;
                transform: translate(0, 100%);
              }
            </code>
          </pre>
          <p>
            Look up any CSS you don't understand, we are basically making the interstitial the whole size of the
            viewport with the <b>width & height</b> set to <b>100%</b>. We set <b>position: fixed</b> to
            cover the screen when the user scrolls. To make this work with GSAP, we set <b>translate(0, 100%)</b>
            so that it is hidden and we can see our page. More details on <a href="https://www.sitepoint.com/atoz-css-translate-vs-position/">translate here</a>
          </p>
        </section>

        <section class="index__section">
          <h3 style="padding: 2rem 0 0 0;">Code</h3>

          <pre>
            <code class="language-javascript">
              // leave hook

              timeline
                .to(current.container, {opacity: 0, y: 50})
                .to('.interstitial', {y: 0, duration: .5, ease: 'circ'});
            </code>
          </pre>

          <p>
            The <b>leave</b> and <b>beforeEnter</b> hooks is where the interstitial animation is done.
            You could use <b>afterLeave</b> instead of <b>leave</b> too.
            On the <b>leave</b> we are animating the width of
            the interstitial element to be 0 which overlays the element on the entire viewport.
          </p>

          <pre>
            <code class="language-javascript">
              // beforeEnter hook

              timeline
                .set(next.container, {opacity: 0, y: 50})
                .to('.interstitial', {y: '100%', duration: 1, delay: 2})
                .to('.interstitial h1', {opacity: 1}, 0)
                .to('.interstitial h1', {opacity: 0}, 1.5);
            </code>
          </pre>

          <p>
            The third parameter on lines <b>46-47</b> in <b>app.js</b> is a position parameter that
            allows for timeline positioning, this <a href="https://www.youtube.com/watch?v=VkptNYadKR0">video explains it better</a>.

          </p>



        </section>
      </article>
    </main>
  </section>

  <footer class="footer">
    <section class="footer__section">
      <p>
        Made with the <a href="https://github.com/dracula/dracula-theme/">Dracula Theme</a>.
      </p>
      <p>
        Not responsive for mobile, use your laptop/desktop for reading this guide.
      </p>
    </section>
  </footer>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js"></script>
<script src="js/barba.core.js"></script>
<script src="js/barba.css.js"></script>
<script src="js/barba.prefetch.js"></script>
<script src="js/barba.router.js"></script>
<script src="js/gsap.min.js"></script>
<script src="js/app.js"></script>

</html>