<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Hooks - Flickering</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/themes/prism.min.css" />
  <link rel="stylesheet" href="css/styles.css">


  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js"></script>

  <link rel="preload" href="fonts/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/Inter-Medium.woff2" as="font" type="font/woff2" crossorigin>

  <link rel="preload" href="fonts/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/JetBrainsMono-Medium.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="fonts/JetBrainsMono-Bold.woff2" as="font" type="font/woff2" crossorigin>

  <style>
    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Regular.woff2') format('woff2'), url('fonts/Inter-Regular.woff') format('woff');
      font-display: swap;
      font-weight: 500;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Medium.woff2') format('woff2'), url('fonts/Inter-Medium.woff') format('woff');
      font-display: swap;
      font-weight: 600;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Bold.woff2') format('woff2'), url('fonts/Inter-Bold.woff') format('woff');
      font-display: swap;
      font-weight: 700;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-ExtraBold.woff2') format('woff2'), url('fonts/Inter-ExtraBold.woff') format('woff');
      font-display: swap;
      font-weight: 800;
    }

    @font-face {
      font-family: "Inter";
      src: url('fonts/Inter-Black.woff2') format('woff2'), url('fonts/Inter-Black.woff') format('woff');
      font-display: swap;
      font-weight: 900;
    }
  </style>
</head>

<body>
  <header class="header">
    <section class="github-button-section">
      <a class="github-button" href="https://github.com/telagraphic/page-transitions" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star telagraphic/page-transitions on GitHub">Star</a>
    </section>
    <nav>
      <a href="index.html">Home</a>
      <a href="hooks.html">Flicker</a>
    </nav>
  </header>


  <section data-barba="wrapper">
    <main data-barba="container" data-barba-namespace="index" data-title="Intro">
      <article class="index page">
        <section class="hooks__section">
          <h1 class="hooks__header">Page Flickering</h1>
        </section>

        <section class="index__section">
          <p>
            Click on the nav links to see this unwanted flickering effect.
          </p>
          <p>
            Sometimes when setting up your hooks, you'll see content flickering on the page and it's super annoying.
            You want to fade in the page when it is entering and you have set up a <b>beforeEnter</b> and <b>enter</b> hook.
            You have written some GSAP animation code in the <b>enter</b> hook to fade in the new page but you see
            the new content flicker then hide and then do your fade.
            The <b>beforeEnter</b> hook is displaying the new page, then the <b>enter</b> hook animation is being run.
            The <b>data.next.container</b> is loaded on the DOM before the <b>beforeEnter</b> hook as shown below.
          </p>
        </section>

        <section class="index__section">
          <img src="../img/lifecycle-diagram.png" alt="Barba.js Hooks Lifecycle Diagram">
        </section>

        <section class="index__section">
          <p>
            Of course, you could set the page opacity to 0 in your styles but you may have forgetten this during
            your intial site coding.
          </p>
          <p>
            Uncomment lines 17 & 18 in the <b>beforeEnter</b> hook and commment out line 34 in the <b>enter</b> hook to remove
            this flickering.
          </p>
          <p>
            The key thing to remember is that the <b>data.next.container</b> is added into the DOM and follow the
            <a href="https://barba.js.org/docs/userguide/syntax/#Hooks">hook order</a>.
            <b>beforeEnter</b> will show page contents before your animation code runs in the <b>enter</b> hook!
            This will save headaches!
          </p>
        </section>


      </article>
    </main>
  </section>
  <footer class="footer">
    <footer class="footer">
      <section class="footer__section">
        <p>
          Made with the <a href="https://github.com/dracula/dracula-theme/">Dracula Theme</a>.
        </p>
        <p>
          Not responsive for mobile, use your laptop/desktop for reading this guide.
        </p>
      </section>
    </footer>
  </footer>

  <script src="js/barba.core.js"></script>
  <script src="js/barba.css.js"></script>
  <script src="js/barba.prefetch.js"></script>
  <script src="js/barba.router.js"></script>
  <script src="js/gsap.min.js"></script>
  <script src="js/app.js"></script>
</body>

</html>